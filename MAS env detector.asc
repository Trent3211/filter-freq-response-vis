Version 4
SHEET 1 1572 680
WIRE 144 16 -64 16
WIRE 192 16 144 16
WIRE 304 16 272 16
WIRE 464 16 304 16
WIRE 144 48 144 16
WIRE 304 96 304 16
WIRE 352 96 304 96
WIRE 464 112 464 16
WIRE 464 112 416 112
WIRE -64 128 -64 16
WIRE -32 128 -64 128
WIRE 336 128 272 128
WIRE 352 128 336 128
WIRE 144 144 144 112
WIRE 144 144 32 144
WIRE 208 144 144 144
WIRE 272 144 272 128
WIRE -32 160 -80 160
WIRE -720 240 -720 176
WIRE 336 240 336 128
WIRE 432 288 400 288
WIRE -304 352 -304 336
WIRE -720 384 -720 320
WIRE 336 480 336 336
FLAG 272 208 0
FLAG -160 160 Vin
FLAG 464 112 Vout
FLAG -720 176 Discharge
FLAG -720 384 0
FLAG -304 256 Vin
FLAG -304 352 0
FLAG 432 288 Discharge
FLAG 336 480 0
SYMBOL OpAmps\\UniversalOpAmp1 0 144 R0
SYMATTR InstName U1
SYMBOL diode 128 48 R0
SYMATTR InstName D1
SYMBOL diode 208 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL cap 256 144 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL OpAmps\\UniversalOpAmp1 384 112 R0
SYMATTR InstName U2
SYMBOL res -64 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 288 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL voltage -720 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0.1375 0 0 33.3u)
SYMBOL npn 400 240 M0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL voltage -304 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 15m 20 0 0 0)
TEXT -50 440 Left 2 !.tran 0 1 0 0.01
